<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Stint+Ultra+Expanded&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=3">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <!-- MY CUSTOM CSS -->
      <link href="https://pagecdn.io/lib/easyfonts/pecita.css" rel="stylesheet" />
      <link rel="stylesheet" href="./happyNewyear.css">


    <script type="text/javascript">
      function clickEffect(e){
        var d=document.createElement("div");
        d.className="clickEffect";
        d.style.top=e.clientY+"px";d.style.left=e.clientX+"px";
        document.body.appendChild(d);
        d.addEventListener('animationend',function(){d.parentElement.removeChild(d);}.bind(this));
      }
      document.addEventListener('click',clickEffect);
    </script>

  </head>

<body>

<div class="neon-bar">
  <progress class='bar' value='0' max='100'></progress>
</div>
  <!-- for button audio -->
  <div id="full_screen">
    <audio id="myAudio" preload loop>
      <source src="./type.wav" type="audio/ogg">
    </audio>
  <!-- ....... -->

    <!-- main body -->
    <h3>HAPPY NEW YEAR 2022 :)</h3>
      <img src = "./tree.svg" alt="My Happy SVG"/>
    <p>hi there. how are you?</p>

     
    <button onclick="typeWriter()"> <a href ="#">
      <span></span>
      <span></span>
      <span></span>
      <span></span>I am fine.</a></button>

    <p id="para0"></p>
    <button id="button0" style="display: none;" onclick="typeWriter1()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>yes. what is this ?</a></button>

    <p id="para1"></p>
    <button id="button1" style="display: none;" onclick="typeWriter2()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>it's wired</a></button>

    <p id="para2"></p>
    <button id="button2" style="display: none;" onclick="typeWriter3()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>Ok. lets see. count me in</a></button>
    <button id="button2_1" style="display: none;" onclick="exitWindow()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>No. I don't like it </a></button>


    <p id="para3"></p>
    <button id="button3" style="display: none;" onclick="typeWriter4()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>haa bawa I am fine. Look I am smiling :) plus I am little excited for the new deacade.</a></button>

    <p id="para4"></p>
    <button id="button4" style="display: none;" onclick="typeWriter5()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>yes kind of! 2020 was fun indeed.</a></button>

    <p id="para5"></p>
    <button id="button5" style="display: none;" onclick="typeWriter6()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>I'll do it later maybe.</a></button>

    <p id="para6"></p>
    <button id="button6" style="display: none;" onclick="typeWriter7()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>let me see it.</a></button>
    <!-- end main body -->


    <!-- wish card  -->
    <div class='
    
    ' id="wish_card" style="display: none;">
      <div class='card' >
          <div class='front face' >
              <img src='./mainCard.png'/>
          </div>
          <div class="back face">
              <p> Hope this year bring you tons of great memories filled with good vibes. *Keep smiling* </p>
          </div>
      </div>
    </div>
  </br>
  <!-- end wish card -->


    <p id="para7"></p>
    <button id="button7" style="display: none;" onclick="typeWriter8()"><a href ="#">
      <span></span>
      <span></span>
      <span></span>it was okay type</a></button>

      <p id="para8"></p>

    <p id="paraGift"></p>
    <button id="buttonGift" style="display: none;" ><a href ="./yourGift.html">
      <span></span>
      <span></span>
      <span></span>Where is my gift?</a></button>




  </div>

<script>
var speed = 80;
var sound = document.getElementById("myAudio");

// exit function
function exitWindow(){
  let exit = confirm("you Sure? you are about to quit the session ... are you really going to hit OK?");
  if (exit == true) {
    document.getElementsByTagName ('html') [0] .remove ()
    window.close();
  } else {
    typeWriter3()
  }
}



// text here
var i = 0;
var txt = `happy to hear that, you are having good days. And I hope you keep smiling. Are you confused about "what is happening right here?" `;

var i1 = 0;
var txt1 = 'well calm down! I was just having my leisure hours. In between, I felt to know that we are about to start a new decade. So I just thought I should wish you a "HAPPY NEW YEAR". And this is what I found unique so far. I hope you like it?';

var i2 = 0;
var txt2= `yeah! I know it is weird indeed. let's stick with it naa. just a little`;

var i3 = 0;
var txt3= `you are not terminating the session... routing you onboard... so again are you fine naa. I mean obviously, a new year with tons of excitement is finally hitting at the door. `;

var i4 = 0;
var txt4 = `Cool... to be honest, I am also excited for the new year. even though I am not gonna resolute anything as I used to do till last years. because I have begun to understand that "resolution" Is just a one-day thing. we both know that it is just not that easy or realistic. events do change with time, and I find it terrifying. we can't preplan the future although we can try to make it even better than it was before. Still, I have to accept that the year 2020 was priceless. It was a great lesson for humanity and to me, it was unusual * Do I have to explain? ... you know that, right! *`

var i5 = 0;
var txt5 =`I want you to take a long breath, forget everything, a cute smile, amazing vibes, and click a picture of you. save it to secure data storage. Let us see if we actually live year by year.
could you please do that?`

var i6 = 0;
var txt6 = `Ok fine. I don't know if you still remember... We used to share machine-made new year greeting cards in our school. I mean it was like an untold culture that constrains us to share cards before we all left for winter vacation.
*so here I made a kind of hand-made card for you but in the form of 0 and 1 (s) *`

var i7 = 0;
var txt7 = `Don't laugh haa *unfair* `

var i8 = 0;
var txt8 = `I hope everything has fulfilled that  I have programmed.  Happy new year 2021 my dear!`


// function here
function typeWriter() {
  sound.play()
  if (i < txt.length) {
    document.getElementById("para0").innerHTML += txt.charAt(i);
    $(document).scrollTop($(document).height());
    i++;
    setTimeout(typeWriter, speed);
  }
  if (i == txt.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button0").style = `display: "block"`
  }
}

function typeWriter1() {
  sound.play()
  if (i1 < txt1.length) {
    document.getElementById("para1").innerHTML += txt1.charAt(i1);
    $(document).scrollTop($(document).height());
    i1++;
    setTimeout(typeWriter1, speed);
  }
  if (i1 == txt1.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button1").style = `display: "block"`
  }
}

function typeWriter2() {
  sound.play()
  if (i2 < txt2.length) {
    document.getElementById("para2").innerHTML += txt2.charAt(i2);
    $(document).scrollTop($(document).height());
    i2++;
    setTimeout(typeWriter2, speed);
  }
  if (i2 == txt2.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button2").style = `display: "block"`
    document.getElementById("button2_1").style = `display: "block"`

  }
}

function typeWriter3() {
  sound.play()
  if (i3 < txt3.length) {
    document.getElementById("para3").innerHTML += txt3.charAt(i3);
    $(document).scrollTop($(document).height());
    i3++;
    setTimeout(typeWriter3, speed);
  }
  if (i3 == txt3.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button3").style = `display: "block"`
  }
}

function typeWriter4() {
  sound.play()
  if (i4 < txt4.length) {
    document.getElementById("para4").innerHTML += txt4.charAt(i4);
    $(document).scrollTop($(document).height());
    i4++;
    setTimeout(typeWriter4, speed);
  }
  if (i4 == txt4.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button4").style = `display: "block"`
  }
}

function typeWriter5() {
  sound.play()
  if (i5 < txt5.length) {
    document.getElementById("para5").innerHTML += txt5.charAt(i5);
    $(document).scrollTop($(document).height());
    i5++;
    setTimeout(typeWriter5, speed);
  }
  if (i5 == txt5.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button5").style = `display: "block"`
  }
}

function typeWriter6() {
  sound.play()
  if (i6 < txt6.length) {
    document.getElementById("para6").innerHTML += txt6.charAt(i6);
    $(document).scrollTop($(document).height());
    i6++;
    setTimeout(typeWriter6, speed);
  }
  if (i6 == txt6.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button6").style = `display: "block"`

  }
}

function typeWriter7() {
  sound.play()
  if (i7 < txt7.length) {
    document.getElementById("para7").innerHTML += txt7.charAt(i7);
    $(document).scrollTop($(document).height());
    i7++;
    setTimeout(typeWriter7, speed);
  }
  if (i7 == txt7.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("button7").style = `display: "block"`
    document.getElementById("wish_card").style = `display: "block"`


  }
}

function typeWriter8() {
  sound.play()
  if (i8 < txt8.length) {
    document.getElementById("para8").innerHTML += txt8.charAt(i8);
    $(document).scrollTop($(document).height());
    i8++;
    setTimeout(typeWriter8, speed);
  }
  if (i8 == txt8.length){
    sound.pause()
    $(document).scrollTop($(document).height());
    document.getElementById("buttonGift").style = `display: "block"`

  }
}


// click effect
function clickEffect(e){
	var d=document.createElement("div");
	d.className="clickEffect";
	d.style.top=e.clientY+"px";d.style.left=e.clientX+"px";
	document.body.appendChild(d);
	d.addEventListener('animationend',function(){d.parentElement.removeChild(d);}.bind(this));
}
document.addEventListener('click',clickEffect);

// progress bar
const progressBar = document.querySelector(".bar"),
progressBarValue = document.querySelector('.bar__value');
let value = 0;
const progressDiv = document.querySelector(".neon-bar");

const max = 100;

let anim = setInterval(() => {
  if (value == max) {
    clearInterval(anim);
    progressDiv.style.display = "none";
  } else {
    value += 1;
    progressBar.value = value;
  }
},30);


</script>

</body>
</html>
